{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Container, Row, Col, Card, CardImg, CardText, CardBody, CardTitle, Button, Form, Input, InputGroup } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport TextTruncate from \"react-text-truncate\";\nimport route from \"../components/api-services\";\nimport Layout from \"../components/Layout\";\n\nvar Courses =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Courses, _Component);\n\n  function Courses(props) {\n    var _this;\n\n    _classCallCheck(this, Courses);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Courses).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      if (window.location.pathname === \"/courses\") {\n        axios.get(route.baseURL + route.coursesLimitTo + \"&_start=\" + _this.state.minPage + \"&_end=\" + _this.state.maxPage).then(function (res) {\n          _this.setState({\n            allCourses: res.data\n          });\n        });\n      }\n\n      if (window.location.pathname === \"/courses/:bookId\") {\n        axios.get(route.baseURL + route.coursesByBooksID + _this.props.match.params.bookId + \"&_start=\" + _this.state.minPage + \"&_end=\" + _this.state.maxPage).then(function (res) {\n          _this.setState({\n            allCourses: res.data\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMore\", function () {\n      _this.setState({\n        maxPage: _this.state.maxPage + 4\n      }, function () {\n        _this.componentDidMount();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLess\", function () {\n      if (_this.state.maxPage > 4) {\n        _this.setState({\n          maxPage: _this.state.maxPage - 4\n        }, function () {\n          _this.componentDidMount();\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchField\", function () {\n      axios.get(route.baseURL + route.coursesLimitTo + \"&q=\" + _this.state.searchValue).then(function (res) {\n        _this.setState({\n          allCourses: res.data\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetSearchField\", function () {\n      _this.setState({\n        searchValue: \"\"\n      }, function () {\n        document.getElementById(\"searchForm\").reset();\n\n        _this.searchField();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    _this.state = {\n      allCourses: [],\n      minPage: 0,\n      maxPage: 4,\n      searchValue: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Courses, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          allCourses = _this$state.allCourses,\n          maxPage = _this$state.maxPage;\n      return React.createElement(Layout, null, React.createElement(Container, {\n        className: \"custom-container\"\n      }, React.createElement(Row, null, React.createElement(Col, {\n        md: \"12\",\n        className: \"center-position\"\n      }, React.createElement(\"h2\", null, \"Enjoy all available courses\"), React.createElement(\"br\", null), React.createElement(Form, {\n        id: \"searchForm\"\n      }, React.createElement(Row, null, React.createElement(Col, {\n        md: \"7\"\n      }, React.createElement(InputGroup, null, React.createElement(Input, {\n        placeholder: \"... type to search\",\n        name: \"searchValue\",\n        onChange: function onChange(event) {\n          _this2.handleChange(event);\n\n          _this2.searchField();\n        }\n      }))), React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          return _this2.searchField();\n        }\n      }, \"Find your courses\"), React.createElement(Button, {\n        size: \"sm\",\n        onClick: function onClick() {\n          return _this2.resetSearchField();\n        }\n      }, \"Reset\"))))), React.createElement(\"hr\", null), React.createElement(Row, null, allCourses.map(function (item) {\n        return React.createElement(Col, {\n          md: \"6\",\n          key: item.id\n        }, React.createElement(Card, null, React.createElement(CardImg, {\n          top: true,\n          width: \"300px\",\n          height: \"300px\",\n          src: item.images,\n          alt: \"Card image\"\n        }), React.createElement(CardBody, null, React.createElement(CardTitle, null, React.createElement(\"b\", null, \"Title:\"), \" \", item.small_description), React.createElement(\"b\", null, \"Description:\"), React.createElement(TextTruncate, {\n          line: 5,\n          truncateText: \"\\u2026\",\n          text: item.long_description\n        }), React.createElement(CardText, null, React.createElement(\"b\", null, \"Tags:\"), \" \", item.tags), React.createElement(CardText, null, React.createElement(\"b\", null, \"Points:\"), \" \", item.points))), React.createElement(\"br\", null));\n      }), React.createElement(Col, {\n        md: \"12\",\n        className: \"center-position\"\n      }, React.createElement(Button, {\n        color: \"success\",\n        onClick: function onClick() {\n          _this2.getMore();\n        }\n      }, \"Show more\"), maxPage > 4 && React.createElement(Button, {\n        color: \"danger\",\n        onClick: function onClick() {\n          _this2.getLess();\n        }\n      }, \"Show less\")))));\n    }\n  }]);\n\n  return Courses;\n}(Component);\n\nexport default Courses;","map":null,"metadata":{},"sourceType":"module"}